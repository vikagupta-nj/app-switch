<!doctype html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Bridge (T2)</title>
<style>
  body{font-family:system-ui,Roboto,Arial,sans-serif;margin:24px}
  pre{background:#f6f6f6;padding:10px;border-radius:8px}
  .note{opacity:.75}
</style>

<h1>Bridge (T2)</h1>
<p class="note">Opened in a new tab from T1. This tab starts without transient user activation.</p>

<h3>User Activation on T2</h3>
<pre id="ua"></pre>

<script>
  const ua0 = {
    isActive: navigator.userActivation.isActive,
    hasBeenActive: navigator.userActivation.hasBeenActive
  }; // snapshot on first script tick

  const out = document.getElementById('ua');
  function render() {
    const ua = navigator.userActivation;
    out.textContent = JSON.stringify({
      firstTick: ua0,                 // expected: both false
      current: {
        isActive: ua.isActive,        // stays false until you interact on T2
        hasBeenActive: ua.hasBeenActive
      }
    }, null, 2);
  }
  ['pointerdown','click','keydown','keyup','visibilitychange'].forEach(e=>addEventListener(e, render));
  setInterval(render, 300);
  render();
</script>
